# Translate Chat - Linux æ¡Œé¢åº”ç”¨æ‰“åŒ…ç³»ç»Ÿ

## æ¦‚è¿°

æœ¬é¡¹ç›®åœ¨macOSä¸Šå®ç°äº†å®Œæ•´çš„Linuxæ¡Œé¢åº”ç”¨æ‰“åŒ…ç³»ç»Ÿï¼Œæ”¯æŒäº¤å‰ç¼–è¯‘ç”ŸæˆLinuxå¯æ‰§è¡Œæ–‡ä»¶ã€AppImageåŒ…å’Œdebå®‰è£…åŒ…ã€‚

## ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **Dockeräº¤å‰ç¼–è¯‘ç¯å¢ƒ** - ä½¿ç”¨Ubuntu 22.04å®¹å™¨è¿›è¡ŒLinuxåº”ç”¨æ„å»º
2. **PyInstalleræ‰“åŒ…å·¥å…·** - å°†Pythonåº”ç”¨æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶
3. **AppImageå·¥å…·** - åˆ›å»ºä¾¿æºå¼Linuxåº”ç”¨åŒ…
4. **debåŒ…æ„å»º** - åˆ›å»ºUbuntu/Debianå®‰è£…åŒ…

### æ–‡ä»¶ç»“æ„

```
scripts/
â”œâ”€â”€ build_linux_desktop.sh      # ä¸»æ‰“åŒ…è„šæœ¬
â”œâ”€â”€ linux_dependency_manager.sh # ä¾èµ–ç®¡ç†è„šæœ¬
â”œâ”€â”€ test_linux_build.sh         # ç¯å¢ƒæµ‹è¯•è„šæœ¬
â””â”€â”€ common_build_utils.sh       # é€šç”¨å·¥å…·å‡½æ•°

build/linux/
â””â”€â”€ dependencies/               # Linuxä¾èµ–åŒ…ç›®å½•
    â”œâ”€â”€ *.deb                   # ç³»ç»Ÿä¾èµ–åŒ…
    â”œâ”€â”€ python_deps/*.whl       # Pythonä¾èµ–åŒ…
    â”œâ”€â”€ appimagetool-*          # AppImageå·¥å…·
    â”œâ”€â”€ pyinstaller-*           # PyInstallerå·¥å…·
    â”œâ”€â”€ dependencies.txt        # ä¾èµ–æ¸…å•
    â””â”€â”€ install_dependencies.sh # å®‰è£…è„šæœ¬

dist/                           # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ translate-chat              # Linuxå¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ Translate-Chat-x86_64.AppImage # AppImageåŒ…
â””â”€â”€ translate-chat_1.0.0_amd64.deb # debå®‰è£…åŒ…
```

## åŠŸèƒ½ç‰¹æ€§

### ğŸš€ è‡ªåŠ¨åŒ–æ„å»º
- è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç¯å¢ƒ
- è‡ªåŠ¨å®‰è£…Pythonä¾èµ–
- è‡ªåŠ¨åˆ›å»ºDockeræ„å»ºç¯å¢ƒ
- è‡ªåŠ¨ç”Ÿæˆå¤šç§æ ¼å¼çš„å®‰è£…åŒ…

### ğŸ³ Dockeräº¤å‰ç¼–è¯‘
- ä½¿ç”¨Ubuntu 22.04å®¹å™¨ç¡®ä¿å…¼å®¹æ€§
- è‡ªåŠ¨å®‰è£…æ‰€æœ‰å¿…è¦çš„ç³»ç»Ÿä¾èµ–
- æ”¯æŒPython 3.9-3.11ç‰ˆæœ¬
- è‡ªåŠ¨å¤„ç†SDL2ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ä¾èµ–

### ğŸ“¦ å¤šæ ¼å¼è¾“å‡º
- **å¯æ‰§è¡Œæ–‡ä»¶**: ç‹¬ç«‹çš„LinuxäºŒè¿›åˆ¶æ–‡ä»¶
- **AppImage**: ä¾¿æºå¼åº”ç”¨åŒ…ï¼Œæ— éœ€å®‰è£…
- **debåŒ…**: Ubuntu/Debianç³»ç»Ÿå®‰è£…åŒ…

### ğŸ‡¨ğŸ‡³ å›½å†…ä¼˜åŒ–
- ä½¿ç”¨æ¸…åæºåŠ é€ŸPythonåŒ…ä¸‹è½½
- æ”¯æŒæœ¬åœ°ä¾èµ–åŒ…ç¼“å­˜
- æ™ºèƒ½é‡è¯•æœºåˆ¶æé«˜ä¸‹è½½æˆåŠŸç‡

## ä½¿ç”¨æ–¹æ³•

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š
- macOSç³»ç»Ÿ
- Docker Desktopå·²å®‰è£…å¹¶è¿è¡Œ
- è‡³å°‘10GBå¯ç”¨ç£ç›˜ç©ºé—´
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

### 2. ç¯å¢ƒæµ‹è¯•

```bash
# æµ‹è¯•Linuxæ‰“åŒ…ç¯å¢ƒ
./scripts/test_linux_build.sh
```

### 3. ä¸‹è½½ä¾èµ–ï¼ˆå¯é€‰ï¼‰

```bash
# ä¸‹è½½Linuxä¾èµ–åŒ…ï¼ŒåŠ é€Ÿåç»­æ„å»º
./scripts/linux_dependency_manager.sh
```

### 4. æ„å»ºåº”ç”¨

```bash
# æ„å»ºLinuxæ¡Œé¢åº”ç”¨
./scripts/build_linux_desktop.sh
```

## æ„å»ºæµç¨‹

### é˜¶æ®µ1: ç¯å¢ƒæ£€æŸ¥
1. éªŒè¯macOSç³»ç»Ÿç¯å¢ƒ
2. æ£€æŸ¥Pythonç‰ˆæœ¬å…¼å®¹æ€§
3. éªŒè¯Dockerç¯å¢ƒ
4. æ£€æŸ¥ç£ç›˜ç©ºé—´å’Œç½‘ç»œè¿æ¥

### é˜¶æ®µ2: ä¾èµ–å‡†å¤‡
1. é…ç½®pipé•œåƒæº
2. åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ
3. å®‰è£…PyInstallerå’ŒAppImageå·¥å…·
4. ä¸‹è½½æœ¬åœ°ä¾èµ–åŒ…ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

### é˜¶æ®µ3: Dockerç¯å¢ƒæ„å»º
1. åˆ›å»ºUbuntu 22.04 Dockerfile
2. å®‰è£…ç³»ç»Ÿä¾èµ–åŒ…
3. é…ç½®Pythonç¯å¢ƒ
4. å®‰è£…é¡¹ç›®ä¾èµ–

### é˜¶æ®µ4: åº”ç”¨æ‰“åŒ…
1. ä½¿ç”¨PyInstalleræ„å»ºå¯æ‰§è¡Œæ–‡ä»¶
2. åˆ›å»ºAppDirç»“æ„
3. ç”ŸæˆAppImageåŒ…
4. æ„å»ºdebå®‰è£…åŒ…

### é˜¶æ®µ5: æ¸…ç†å’ŒéªŒè¯
1. æ¸…ç†Dockeré•œåƒå’Œä¸´æ—¶æ–‡ä»¶
2. éªŒè¯æ„å»ºäº§ç‰©
3. ç”Ÿæˆæ„å»ºæŠ¥å‘Š

## è¾“å‡ºæ–‡ä»¶è¯´æ˜

### translate-chat (å¯æ‰§è¡Œæ–‡ä»¶)
- **æ ¼å¼**: Linux ELFäºŒè¿›åˆ¶æ–‡ä»¶
- **å¤§å°**: çº¦50-100MB
- **ä¾èµ–**: éœ€è¦ç›®æ ‡ç³»ç»Ÿå®‰è£…ç›¸å…³åº“æ–‡ä»¶
- **ä½¿ç”¨**: ç›´æ¥è¿è¡Œ `./translate-chat`

### Translate-Chat-x86_64.AppImage
- **æ ¼å¼**: AppImageä¾¿æºå¼åº”ç”¨åŒ…
- **å¤§å°**: çº¦80-150MB
- **ä¾èµ–**: è‡ªåŒ…å«ï¼Œæ— éœ€é¢å¤–ä¾èµ–
- **ä½¿ç”¨**: æ·»åŠ æ‰§è¡Œæƒé™åç›´æ¥è¿è¡Œ

### translate-chat_1.0.0_amd64.deb
- **æ ¼å¼**: Debianè½¯ä»¶åŒ…
- **å¤§å°**: çº¦60-120MB
- **ä¾èµ–**: è‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»
- **ä½¿ç”¨**: `sudo dpkg -i translate-chat_1.0.0_amd64.deb`

## éƒ¨ç½²æŒ‡å—

### Linuxç³»ç»Ÿéƒ¨ç½²

#### æ–¹æ³•1: å¯æ‰§è¡Œæ–‡ä»¶éƒ¨ç½²
```bash
# å¤åˆ¶åˆ°ç³»ç»Ÿç›®å½•
sudo cp dist/translate-chat /usr/local/bin/
sudo chmod +x /usr/local/bin/translate-chat

# è¿è¡Œåº”ç”¨
translate-chat
```

#### æ–¹æ³•2: AppImageéƒ¨ç½²
```bash
# å¤åˆ¶åˆ°ç”¨æˆ·ç›®å½•
cp dist/Translate-Chat-x86_64.AppImage ~/Desktop/

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x ~/Desktop/Translate-Chat-x86_64.AppImage

# è¿è¡Œåº”ç”¨
./Translate-Chat-x86_64.AppImage
```

#### æ–¹æ³•3: debåŒ…å®‰è£…
```bash
# å®‰è£…è½¯ä»¶åŒ…
sudo dpkg -i dist/translate-chat_1.0.0_amd64.deb

# ä¿®å¤ä¾èµ–å…³ç³»ï¼ˆå¦‚æœéœ€è¦ï¼‰
sudo apt-get install -f

# è¿è¡Œåº”ç”¨
translate-chat
```

### ä¾èµ–åº“è¦æ±‚

ç›®æ ‡Linuxç³»ç»Ÿéœ€è¦å®‰è£…ä»¥ä¸‹ä¾èµ–åº“ï¼š
- libssl3
- libffi8
- libjpeg8
- libpng16-16
- libfreetype6
- libsdl2-2.0-0
- libsdl2-image-2.0-0
- libsdl2-mixer-2.0-0
- libsdl2-ttf-2.0-0
- libportaudio2
- libasound2
- libpulse0
- libjack-jackd2-0
- FFmpegç›¸å…³åº“

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. Dockeræœªè¿è¡Œ
**é”™è¯¯**: `Cannot connect to the Docker daemon`
**è§£å†³**: å¯åŠ¨Docker Desktopåº”ç”¨

#### 2. ç£ç›˜ç©ºé—´ä¸è¶³
**é”™è¯¯**: `No space left on device`
**è§£å†³**: æ¸…ç†ç£ç›˜ç©ºé—´ï¼Œç¡®ä¿è‡³å°‘10GBå¯ç”¨

#### 3. ç½‘ç»œè¿æ¥é—®é¢˜
**é”™è¯¯**: `Failed to download Docker image`
**è§£å†³**: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œä½¿ç”¨VPNæˆ–ä»£ç†

#### 4. Pythonç‰ˆæœ¬ä¸å…¼å®¹
**é”™è¯¯**: `Python version not supported`
**è§£å†³**: ä½¿ç”¨Python 3.9-3.11ç‰ˆæœ¬

#### 5. ä¾èµ–åŒ…ä¸‹è½½å¤±è´¥
**é”™è¯¯**: `Failed to download dependency`
**è§£å†³**: è¿è¡Œä¾èµ–ç®¡ç†è„šæœ¬é‡æ–°ä¸‹è½½

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**: è„šæœ¬ä¼šè¾“å‡ºè¯¦ç»†çš„æ„å»ºæ—¥å¿—
2. **æ£€æŸ¥Dockerå®¹å™¨**: `docker ps -a` æŸ¥çœ‹å®¹å™¨çŠ¶æ€
3. **æ¸…ç†ç¼“å­˜**: åˆ é™¤ `.buildozer` å’Œ `build` ç›®å½•é‡æ–°æ„å»º
4. **æµ‹è¯•ç¯å¢ƒ**: è¿è¡Œ `./scripts/test_linux_build.sh` æ£€æŸ¥ç¯å¢ƒ

## æ€§èƒ½ä¼˜åŒ–

### æ„å»ºé€Ÿåº¦ä¼˜åŒ–
1. ä½¿ç”¨æœ¬åœ°ä¾èµ–åŒ…ç¼“å­˜
2. å¢åŠ Dockeræ„å»ºç¼“å­˜
3. ä½¿ç”¨SSDå­˜å‚¨
4. å¢åŠ ç³»ç»Ÿå†…å­˜

### åŒ…å¤§å°ä¼˜åŒ–
1. æ’é™¤ä¸å¿…è¦çš„ä¾èµ–
2. ä½¿ç”¨UPXå‹ç¼©å¯æ‰§è¡Œæ–‡ä»¶
3. ä¼˜åŒ–PyInstalleré…ç½®
4. æ¸…ç†ä¸´æ—¶æ–‡ä»¶

## ç‰ˆæœ¬å†å²

### v1.0.0 (2025/7/25)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒmacOSäº¤å‰ç¼–è¯‘Linuxåº”ç”¨
- ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€AppImageå’ŒdebåŒ…
- å®Œæ•´çš„è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹
- è¯¦ç»†çš„æ–‡æ¡£å’Œæ•…éšœæ’é™¤æŒ‡å—

## æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. è¿è¡Œç¯å¢ƒæµ‹è¯•è„šæœ¬æ£€æŸ¥é…ç½®
2. æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
3. å‚è€ƒæ•…éšœæ’é™¤æŒ‡å—
4. æ¸…ç†ç¼“å­˜åé‡æ–°æ„å»º
5. æäº¤Issueå¹¶æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç å’Œæ”¹è¿›å»ºè®®ï¼š

1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç æ›´æ”¹
4. åˆ›å»ºPull Request
5. ç­‰å¾…ä»£ç å®¡æŸ¥

---

*æœ¬æ–‡æ¡£æœ€åæ›´æ–°: 2025/7/25* 